<div class="px-4 sm:px-6 lg:px-8" data-controller="analytics">
  <%= render(PageHeaderComponent.new(page_title: "Analytics")) do %>
    <%= select_tag(
      "timeframe",
      options_for_select({"All Time": "", "Last 7 Days": 7, "Last 14 Days": 14, "Last 30 Days": 30, "Last 90 Days": 90, "Year to Date": "YTD"}, "All Time"),
      class: "flex-auto block w-full max-w-lg rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500 sm:max-w-xs sm:text-sm",
      data: { action: "analytics#changeTimeframe" }
      ) %>
  <% end %>

  <div class="mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3">
    <div class="grid grid-cols-1 gap-5">
      <%= render(
        EmptyChartComponent.new(
          id: "search-types",
          path: search_types_analytics_path
        )
      ) %>
      <%= render(
        EmptyChartComponent.new(
          id: "average-search-time",
          path: average_search_time_analytics_path
        )
      ) %>
    </div>

    <div class="sm:col-span-2 grid grid-cols-1 gap-5 place-content-start">
      <div>
        <div class="grid grid-cols-1 gap-5 sm:grid-cols-3">
          <%= render(
            EmptySimpleStatsComponent.new(
              id: "average-yes-per-search",
              path: average_yes_per_search_analytics_path
            )
          ) %>
          <%= render(
            EmptySimpleStatsComponent.new(
              id: "average-no-per-search",
              path: average_no_per_search_analytics_path
            )
          ) %>
          <%= render(
            EmptySimpleStatsComponent.new(
              id: "average-time-per-search",
              path: average_time_per_search_analytics_path
            )
          ) %>
        </div>
      </div>
      <%= render(
        EmptyChartComponent.new(
          id: "search-created-at-bar-chart",
          path: searches_by_created_at_analytics_path
        )
      ) %>
    </div>
  </div>
</div>
